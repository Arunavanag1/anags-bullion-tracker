---
phase: 64-form-spacing-layout
plan: 01
type: execute
---

<objective>
Improve visual spacing, add section dividers, and fix padding in both BullionForm and NumismaticForm to create clear visual grouping between field clusters.

Purpose: Form fields are currently flush against each other with no vertical spacing between consecutive Input components. There are no section dividers to separate logical field groups (e.g., "Item Details" vs "Purchase Info" vs "Photos"). The forms feel cramped and hard to scan.
Output: Both forms have consistent spacing between fields, labeled section dividers between logical groups, and improved padding around the photo/notes sections.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/63-keyboard-management/63-01-SUMMARY.md

@bullion-tracker-mobile/src/components/ui/Input.tsx
@bullion-tracker-mobile/src/components/addItem/BullionForm.tsx
@bullion-tracker-mobile/src/components/addItem/NumismaticForm.tsx
@bullion-tracker-mobile/src/screens/AddItemScreen.tsx

**Current spacing issues:**
- Input component has NO built-in marginBottom — consecutive fields are visually flush
- BullionForm: 7 Input fields with zero gap between them (only Metal Type and Photos sections have marginBottom: 20 via `section` style)
- NumismaticForm: purchasePrice, purchaseDate, notes fields have zero gap between them
- No section labels or dividers to separate "Item Details" from "Purchase Info" from "Photos & Notes"
- Photo section starts immediately after the last text input with no visual break

**Constraining decisions:**
- Phase 63 added KeyboardAvoidingView, FormToolbar, and field refs — must not break these
- Input component uses `containerStyle` prop for external layout — spacing should be added there or via wrapper
- Both forms already have a `section` style with marginBottom: 20 used for Metal Type and Photos
- App color palette: warm tones (#2D1B1B text, #F5E6DC borders, #FFFBF8 background), blue accents (#3B82F6)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add marginBottom to Input component</name>
  <files>
    bullion-tracker-mobile/src/components/ui/Input.tsx
  </files>
  <action>
  Add a default `marginBottom: 16` to the Input component's outer View container. This provides consistent vertical spacing between all consecutive Input fields across both forms without requiring changes to every Input usage site.

  - Add `marginBottom: 16` to the View's style (merged with containerStyle so callers can override)
  - Use `StyleSheet.create` for the default styles instead of inline objects
  - Keep all existing props and ref forwarding intact

  **Do NOT:**
  - Don't change the label fontSize, color, or spacing
  - Don't change the TextInput border, padding, or colors
  - Don't add any new props — the containerStyle prop already allows overrides
  </action>
  <verify>
  Run `cd bullion-tracker-mobile && npx tsc --noEmit` — no type errors. Visually, all Input fields should now have 16px gap between them.
  </verify>
  <done>
  - Input component has default marginBottom: 16 between fields
  - containerStyle still allows per-instance overrides
  - Migrated inline styles to StyleSheet.create
  </done>
</task>

<task type="auto">
  <name>Task 2: Add section dividers to BullionForm</name>
  <files>
    bullion-tracker-mobile/src/components/addItem/BullionForm.tsx
  </files>
  <action>
  Add labeled section headers and dividers to group fields into logical clusters:

  **Section 1: "Item Details"** — Description, Metal Type, Weight, Quantity
  - Add a section header Text before the Description Input: "ITEM DETAILS"
  - Style: fontSize 11, fontWeight 700, color #9CA3AF, letterSpacing 1, textTransform uppercase, marginBottom 12, marginTop 4

  **Section 2: "Purchase Info"** — Purchase Price, Premium/Discount, Purchase Date
  - Add a thin horizontal divider line (1px, #E5E7EB) with marginVertical 20 before this section
  - Add section header "PURCHASE INFO" with same styling

  **Section 3: "Notes & Photos"** — Notes, Photos
  - Add a thin horizontal divider line before this section
  - Add section header "NOTES & PHOTOS"

  **Implementation:**
  - Create a reusable `SectionDivider` style (View with height: 1, backgroundColor: #E5E7EB, marginVertical: 20)
  - Create a `sectionHeader` text style matching the specs above
  - Wrap field groups in Views as needed for logical grouping
  - Remove the standalone `section` wrapper from Metal Type (it already has the label) — integrate it into the Item Details section

  **Do NOT:**
  - Don't change any Input props, refs, or keyboard behavior from Phase 63
  - Don't change the Metal Type button styling or Photos grid styling
  - Don't touch the FormToolbar or ScrollView props
  </action>
  <verify>
  Run `cd bullion-tracker-mobile && npx tsc --noEmit`. Form should show three clear sections with headers and divider lines between them. All existing keyboard navigation (Next/Previous/Done) should still work.
  </verify>
  <done>
  - BullionForm has 3 labeled sections: Item Details, Purchase Info, Notes & Photos
  - Thin horizontal dividers separate sections
  - Section headers use consistent uppercase styling
  - All Phase 63 keyboard behavior preserved
  </done>
</task>

<task type="auto">
  <name>Task 3: Add section dividers to NumismaticForm</name>
  <files>
    bullion-tracker-mobile/src/components/addItem/NumismaticForm.tsx
  </files>
  <action>
  Add labeled section headers and dividers to group NumismaticForm fields:

  **Section 1: "Coin Identification"** — CoinSearchInput, Metal Type (RAW only), Metal Content (RAW only)
  - Add section header "COIN IDENTIFICATION" before CoinSearchInput

  **Section 2: "Certification & Grading"** — Cert section (non-RAW), Grading Service (non-RAW), GradePicker, Grade Estimated toggle (RAW), Problem Coin toggle + type
  - Add divider + section header "CERTIFICATION & GRADING" (non-RAW) or "GRADING" (RAW)

  **Section 3: "Valuation"** — PriceGuideDisplay, Purchase Price
  - Add divider + section header "VALUATION"

  **Section 4: "Notes & Photos"** — Purchase Date, Notes, Photos
  - Add divider + section header "NOTES & PHOTOS"

  **Implementation:**
  - Use the same `sectionDivider` and `sectionHeader` styles from BullionForm (same visual language)
  - The divider + header pattern should be consistent across both forms
  - Be careful with conditional rendering — sections that only appear for RAW or non-RAW should have their dividers inside the same conditional block

  **Do NOT:**
  - Don't change CoinSearchInput, GradePicker, PriceGuideDisplay, or CertScanner components
  - Don't change any keyboard refs or FormToolbar behavior
  - Don't modify the metalContentSection styling (it already has its own background/border)
  - Don't change any switch/toggle styling
  </action>
  <verify>
  Run `cd bullion-tracker-mobile && npx tsc --noEmit`. Test both RAW and non-RAW paths — each should show clear section groupings. All keyboard navigation should still work.
  </verify>
  <done>
  - NumismaticForm has 4 labeled sections with dividers
  - Both RAW and non-RAW paths have appropriate section grouping
  - Consistent styling with BullionForm sections
  - All Phase 63 keyboard behavior preserved
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Form spacing improvements: consistent 16px gaps between fields, labeled section headers (ITEM DETAILS, PURCHASE INFO, NOTES & PHOTOS, etc.), and thin divider lines between sections in both BullionForm and NumismaticForm</what-built>
  <how-to-verify>
    1. Run: `cd bullion-tracker-mobile && npx expo start`
    2. Open app on iOS simulator or device
    3. Navigate to Add Item > select Bullion:
       - Verify section headers appear: "ITEM DETAILS", "PURCHASE INFO", "NOTES & PHOTOS"
       - Verify thin divider lines separate sections
       - Verify consistent spacing between all input fields (no more flush/touching fields)
       - Verify keyboard toolbar (Next/Previous/Done) still works
    4. Go back, select Numismatic > RAW:
       - Verify sections: "COIN IDENTIFICATION", "GRADING", "VALUATION", "NOTES & PHOTOS"
       - Verify Metal Content card still has its own background/border
    5. Go back, select Numismatic > PCGS:
       - Verify sections: "COIN IDENTIFICATION", "CERTIFICATION & GRADING", "VALUATION", "NOTES & PHOTOS"
       - Verify cert lookup still works
    6. On all forms: scroll to bottom, verify Photos section has proper spacing
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `cd bullion-tracker-mobile && npx tsc --noEmit` passes without type errors
- [ ] App compiles and runs on iOS simulator
- [ ] All Input fields have consistent 16px vertical spacing
- [ ] BullionForm has 3 labeled sections with dividers
- [ ] NumismaticForm has 4 labeled sections with dividers (both RAW and non-RAW)
- [ ] Section headers use consistent uppercase styling across both forms
- [ ] Keyboard toolbar (Next/Previous/Done) still works on both forms
- [ ] CoinSearchInput, GradePicker, PriceGuideDisplay, CertScanner not broken
- [ ] Photo upload and image grid still work
- [ ] Form submission still works
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No TypeScript errors introduced
- Visual spacing consistent across both forms
- Human verification approved
</success_criteria>

<output>
After completion, create `.planning/phases/64-form-spacing-layout/64-01-SUMMARY.md`
</output>
