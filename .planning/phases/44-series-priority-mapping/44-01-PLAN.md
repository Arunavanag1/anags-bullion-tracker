---
phase: 44-series-priority-mapping
plan: 01
type: execute
---

<objective>
Define comprehensive target series (~8,000 coins) covering 20th century types, commemoratives, and key early US coins with priorities for phased scraping.

Purpose: Create a structured roadmap of all coin series to scrape, enabling systematic population of the CoinReference database from ~100 to ~8,000 coins.
Output: Expanded COIN_SERIES configuration with all target series, priorities, and PCGS category IDs.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Prior phase:**
@.planning/phases/43-pcgs-api-integration/43-01-SUMMARY.md

**Existing scraper config:**
@bullion-tracker/coin_scraper/config.py

**Database schema:**
@bullion-tracker/prisma/schema.prisma (CoinReference model at line 199)

**Current state:**
- 11 series currently in COIN_SERIES: Silver Eagles, Gold Eagles, Morgan/Peace Dollars, Lincoln Cents, Jefferson Nickels, Barber series, Walking Liberty/Franklin Halves
- ~100 coins in database across these series
- Target: ~8,000 coins covering popular US collectibles

**PCGS CoinFacts categories:**
- Major US coin categories available at https://www.pcgs.com/coinfacts
- Each series has a category_id and slug for URL construction
- URL pattern: https://www.pcgs.com/coinfacts/category/{slug}/{category_id}

**Priority system (existing):**
- P0: Core modern bullion and key classics (highest priority)
- P1: Popular collector series
- P2: Complete coverage for supported denominations
- P3: Lower-demand vintage/specialty
</context>

<tasks>

<task type="auto">
  <name>Task 1: Research and document all PCGS CoinFacts categories</name>
  <files>bullion-tracker/coin_scraper/data/series_research.json</files>
  <action>
Use web search to find the complete list of PCGS CoinFacts categories and their IDs.

Create a JSON file documenting all major US coin series with:
- Category name, slug, and category_id
- Approximate coin count per series
- Date range (first year - last year)
- Type (regular issue, commemorative, bullion, pattern)

Focus on these major groups:
1. **Half Cents & Cents** (Large cents, Flying Eagle, Indian Head, Lincoln varieties)
2. **Nickels** (Shield, Liberty, Buffalo, Jefferson varieties)
3. **Dimes** (Bust, Seated Liberty, Barber, Mercury, Roosevelt)
4. **Quarters** (Bust, Seated Liberty, Barber, Standing Liberty, Washington, State/National Park)
5. **Half Dollars** (Bust, Seated Liberty, Barber, Walking Liberty, Franklin, Kennedy)
6. **Dollars** (Bust, Seated Liberty, Trade, Morgan, Peace, Eisenhower, Susan B Anthony, Sacagawea, Presidential)
7. **Gold** ($1, $2.5, $3, $5, $10, $20 - various types)
8. **Modern Bullion** (Silver Eagles, Gold Eagles, Platinum Eagles, Palladium Eagles)
9. **Commemoratives** (Classic 1892-1954, Modern 1982+)

Document findings in series_research.json with this structure:
```json
{
  "categories": [
    {
      "name": "Morgan Dollars",
      "slug": "morgan-dollars",
      "category_id": 53,
      "estimated_coins": 150,
      "year_range": "1878-1921",
      "type": "regular",
      "notes": "Key series, high collector interest"
    }
  ],
  "total_estimated_coins": 0,
  "research_date": "2026-01-17"
}
```
  </action>
  <verify>cat bullion-tracker/coin_scraper/data/series_research.json | python3 -c "import json,sys; d=json.load(sys.stdin); print(f'{len(d[\"categories\"])} categories, ~{d[\"total_estimated_coins\"]} coins')"</verify>
  <done>JSON file contains all major US coin categories with IDs, estimates, and metadata</done>
</task>

<task type="auto">
  <name>Task 2: Assign priorities and create expanded COIN_SERIES configuration</name>
  <files>bullion-tracker/coin_scraper/config.py</files>
  <action>
Expand COIN_SERIES in config.py based on the research, assigning priorities:

**P0 (Core - scrape first):**
- Modern bullion: Silver Eagles, Gold Eagles, Platinum Eagles
- Key classic series: Morgan Dollars, Peace Dollars
- Popular 20th century: Lincoln Cents (Wheat), Mercury Dimes, Walking Liberty Halves
- Estimated: ~500 coins

**P1 (Popular collector series):**
- Jefferson Nickels, Roosevelt Dimes, Washington Quarters
- Franklin Halves, Kennedy Halves
- Buffalo Nickels, Standing Liberty Quarters
- Eisenhower Dollars, Susan B Anthony Dollars
- Estimated: ~1,500 coins

**P2 (Complete 20th century):**
- Barber series complete (already partially in P1)
- Indian Head Cents, Flying Eagle Cents
- Liberty Nickels, Seated Liberty series
- Trade Dollars, Gold Dollar series
- Estimated: ~2,500 coins

**P3 (Early US and specialty):**
- Large Cents, Half Cents
- Bust coinage (all denominations)
- Gold denominations ($2.5, $3, $5, $10, $20)
- Classic commemoratives (1892-1954)
- Modern commemoratives (1982+)
- Estimated: ~3,500 coins

Update config.py to include ALL series with proper structure:
```python
COIN_SERIES = [
    # P0 - Core modern and key classics
    {"name": "Silver Eagles", "slug": "silver-eagles", "category_id": 833, "priority": "P0", "est_coins": 45},
    ...
]
```

Ensure each entry has: name, slug, category_id, priority, est_coins (estimated coin count).
  </action>
  <verify>python3 -c "import sys; sys.path.insert(0, 'bullion-tracker/coin_scraper'); from config import COIN_SERIES; p0=sum(1 for s in COIN_SERIES if s['priority']=='P0'); p1=sum(1 for s in COIN_SERIES if s['priority']=='P1'); p2=sum(1 for s in COIN_SERIES if s['priority']=='P2'); p3=sum(1 for s in COIN_SERIES if s['priority']=='P3'); total=sum(s.get('est_coins',0) for s in COIN_SERIES); print(f'Series: P0={p0}, P1={p1}, P2={p2}, P3={p3}. Total est coins: {total}')"</verify>
  <done>COIN_SERIES expanded with all target series (50+ entries), priorities assigned, ~8,000 estimated coins</done>
</task>

<task type="auto">
  <name>Task 3: Create scraping roadmap document</name>
  <files>.planning/phases/44-series-priority-mapping/SCRAPING-ROADMAP.md</files>
  <action>
Create a markdown document summarizing the scraping plan:

1. **Overview**: Total series count, estimated coins by priority
2. **Priority breakdown**: List series in each priority tier with estimated counts
3. **Scraping schedule**: Recommended order based on priorities and daily API quota (1,000/day)
4. **Estimated timeline**: Days to complete each priority tier
5. **Data quality notes**: Any known issues or considerations per series
6. **NGC cross-reference**: Note which series need NGC number mapping (Phase 45)

Calculate realistic timeline:
- API calls per coin: ~1 (get_coin_by_cert or get_coin_by_pcgs_and_grade)
- Web scraping fallback: ~2 coins/minute (polite rate limiting)
- Daily budget: 1,000 API calls + unlimited scraping
- Factor in failures and retries

The roadmap should guide Phase 45 (scraper enhancement) and Phase 46 (data population).
  </action>
  <verify>cat .planning/phases/44-series-priority-mapping/SCRAPING-ROADMAP.md | head -50</verify>
  <done>SCRAPING-ROADMAP.md created with complete plan, timeline estimates, and Phase 45/46 guidance</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] series_research.json exists with all major US coin categories
- [ ] config.py COIN_SERIES expanded to 50+ entries
- [ ] All priorities (P0-P3) represented
- [ ] Estimated total coins ~8,000 (within 6,000-10,000 range)
- [ ] SCRAPING-ROADMAP.md provides clear Phase 45/46 guidance
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Series configuration is comprehensive (covers stated milestone goals)
- Priorities align with collector interest and project needs
- Roadmap provides actionable guidance for subsequent phases
</success_criteria>

<output>
After completion, create `.planning/phases/44-series-priority-mapping/44-01-SUMMARY.md`:

# Phase 44 Plan 01: Series Priority Mapping Summary

**[Substantive one-liner about what shipped]**

## Accomplishments
- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified
- `path/to/file.py` - Description

## Decisions Made
[Key decisions and rationale, or "None"]

## Issues Encountered
[Problems and resolutions, or "None"]

## Next Phase Readiness
Ready for Phase 45: Bulk Scraper Enhancement
</output>
