---
phase: 35-code-quality-sweep
plan: 02
type: execute
---

<objective>
Remove all unused variables (dead code) and fix JSX unescaped entity errors.

Purpose: Clean codebase with no dead code warnings, proper JSX escaping.
Output: Zero `@typescript-eslint/no-unused-vars` warnings, zero `react/no-unescaped-entities` errors.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./35-02-SUMMARY.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/35-code-quality-sweep/35-01-SUMMARY.md

**Files with unused variables:**
@bullion-tracker/src/app/api/collection/summary/route.ts
@bullion-tracker/src/app/api/fdx/v6/accounts/route.ts
@bullion-tracker/src/app/api/oauth/authorize/route.ts
@bullion-tracker/src/app/api/portfolio/history/route.ts
@bullion-tracker/src/app/api/portfolio/valuation-breakdown/route.ts
@bullion-tracker/src/app/auth/signin/page.tsx
@bullion-tracker/src/app/auth/signup/page.tsx
@bullion-tracker/src/app/page.tsx
@bullion-tracker/src/components/TopPerformers.tsx
@bullion-tracker/src/middleware.ts

**Files with JSX escaping issues:**
@bullion-tracker/src/app/auth/signin/page.tsx
@bullion-tracker/src/app/page.tsx

**Established patterns:** Remove unused imports/variables, use HTML entities for special chars in JSX
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove unused variables across codebase</name>
  <files>
    bullion-tracker/src/app/api/collection/summary/route.ts,
    bullion-tracker/src/app/api/fdx/v6/accounts/route.ts,
    bullion-tracker/src/app/api/oauth/authorize/route.ts,
    bullion-tracker/src/app/api/portfolio/history/route.ts,
    bullion-tracker/src/app/api/portfolio/valuation-breakdown/route.ts,
    bullion-tracker/src/app/auth/signin/page.tsx,
    bullion-tracker/src/app/auth/signup/page.tsx,
    bullion-tracker/src/app/page.tsx,
    bullion-tracker/src/components/TopPerformers.tsx,
    bullion-tracker/src/middleware.ts
  </files>
  <action>
For each unused variable warning:

1. **Unused imports:** Remove the import entirely
2. **Unused function parameters:**
   - If required by interface (e.g., Next.js route handlers): prefix with underscore `_request`
   - If truly unused: remove the parameter
3. **Unused local variables:** Remove the declaration and any related code
4. **Unused functions/components:** Remove entirely if not exported or used elsewhere

Specific fixes needed:
- `src/app/api/collection/summary/route.ts`: unused `request` param
- `src/app/api/fdx/v6/accounts/route.ts`: unused `portfolio` variable
- `src/app/api/oauth/authorize/route.ts`: unused `error` variable
- `src/app/api/portfolio/history/route.ts`: unused `fetchSpotPrices` import
- `src/app/api/portfolio/valuation-breakdown/route.ts`: unused `calculateCurrentMeltValue` import
- `src/app/auth/signin/page.tsx`: unused `error` variable
- `src/app/auth/signup/page.tsx`: unused `error` variable
- `src/app/page.tsx`: unused `totalMeltValue`, `holdings`, `HoldingRow`, `ActionButton`
- `src/components/TopPerformers.tsx`: unused `coins` variable
- `src/middleware.ts`: unused `request` param

For Next.js route handlers that require `request` param but don't use it:
- Use `_request` naming convention to indicate intentionally unused
  </action>
  <verify>npx eslint src/ --max-warnings=10 2>&1 | grep -c "no-unused-vars" returns 0</verify>
  <done>All unused variable warnings eliminated</done>
</task>

<task type="auto">
  <name>Task 2: Fix JSX unescaped entities</name>
  <files>
    bullion-tracker/src/app/auth/signin/page.tsx,
    bullion-tracker/src/app/page.tsx
  </files>
  <action>
Fix all `react/no-unescaped-entities` errors by escaping special characters:

Common replacements:
- `'` (apostrophe) → `&apos;` or `&#39;`
- `"` (quote) → `&quot;` or `&#34;`
- `<` → `&lt;`
- `>` → `&gt;`

Or wrap in curly braces with string:
- `Don't` → `{"Don't"}` or `Don&apos;t`

Specific fixes:
- `src/app/auth/signin/page.tsx` line 162: apostrophe in text
- `src/app/page.tsx` line 266: apostrophe in text
- `src/app/page.tsx` line 666: quotes in text

Prefer `&apos;` and `&quot;` for readability over numeric entities.
  </action>
  <verify>npx eslint src/ --max-warnings=10 2>&1 | grep -c "no-unescaped-entities" returns 0</verify>
  <done>All JSX escaping errors fixed</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npx eslint src/ --max-warnings=0` passes with no errors or warnings
- [ ] `npm run build` succeeds without errors
- [ ] `npm test` passes all 76 tests
- [ ] No functionality broken by removing dead code
</verification>

<success_criteria>

- All `@typescript-eslint/no-unused-vars` warnings eliminated
- All `react/no-unescaped-entities` errors fixed
- ESLint passes with zero issues
- Build passes
- Tests pass
- Phase 35 complete
</success_criteria>

<output>
After completion, create `.planning/phases/35-code-quality-sweep/35-02-SUMMARY.md`
</output>
