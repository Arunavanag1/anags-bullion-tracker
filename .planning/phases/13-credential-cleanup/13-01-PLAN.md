---
phase: 13-credential-cleanup
plan: 01
type: execute
---

<objective>
Remove hardcoded test credentials from mobile app UI and verify environment security.

Purpose: Ensure no credentials are exposed in code before production deployment.
Output: Clean LoginScreen without test data, verified environment security.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior phase summaries (security-related):
@.planning/phases/03-security-hardening/03-01-SUMMARY.md
@.planning/phases/04-environment-configuration/04-01-SUMMARY.md

# Source files to modify:
@bullion-tracker-mobile/src/screens/LoginScreen.tsx

**Tech stack available:** expo-constants for config (from Phase 4)
**Established patterns:** fail-fast-security, env-documentation (from Phase 3-4)
**Constraining decisions:**
- Phase 3: JWT secrets must be set, app fails without NEXTAUTH_SECRET
- Phase 4: Mobile API URL configured via expo-constants (app.json extra)

**Current state:**
- .env files are properly gitignored (verified)
- .env.example files have comprehensive documentation (from Phase 4)
- LoginScreen.tsx contains hardcoded test account info at lines 118-136
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove hardcoded test credentials from LoginScreen</name>
  <files>bullion-tracker-mobile/src/screens/LoginScreen.tsx</files>
  <action>
Delete the "Test Account" info box section (lines 118-136) that displays:
- Email: arunavaknag@gmail.com
- Password: Test123

This UI component exposes real credentials and should be removed entirely before production.

Do NOT add any replacement - just remove the section. The login form is already functional.
  </action>
  <verify>
1. grep -r "Test123" bullion-tracker-mobile/ returns no matches
2. grep -r "arunavaknag" bullion-tracker-mobile/ returns no matches
3. LoginScreen.tsx compiles without errors: cd bullion-tracker-mobile && npx tsc --noEmit
  </verify>
  <done>LoginScreen.tsx has no hardcoded credentials visible in UI or code</done>
</task>

<task type="auto">
  <name>Task 2: Verify and document environment security posture</name>
  <files>bullion-tracker/.env.example, bullion-tracker-mobile/.env.example</files>
  <action>
Verify security state and add deployment readiness notes:

1. Verify .env is gitignored:
   - Run: git ls-files | grep -E "\.env$" (should return empty)
   - Run: cat .gitignore | grep -E "^\.env" (should show .env patterns)

2. Add "SECURITY AUDIT COMPLETE" section to web .env.example with:
   - Checklist for pre-deployment security verification
   - Date of last security review
   - Reference to Phase 3 security hardening

3. Ensure mobile .env.example mentions that API_URL should use HTTPS in production.

Do NOT modify actual .env files - only .env.example documentation.
  </action>
  <verify>
1. git ls-files | grep -E "\.env$" returns empty (no .env tracked)
2. .env.example files have security audit sections
3. All files compile: npm run build in bullion-tracker
  </verify>
  <done>.env files verified as not tracked, .env.example files have security documentation</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] No hardcoded credentials in mobile codebase: grep -r "Test123\|arunavaknag" bullion-tracker-mobile/
- [ ] .env files not in git: git ls-files | grep -E "\.env$"
- [ ] Web app builds: cd bullion-tracker && npm run build
- [ ] Mobile TypeScript check passes: cd bullion-tracker-mobile && npx tsc --noEmit
</verification>

<success_criteria>

- All hardcoded test credentials removed from source code
- Environment files verified as properly gitignored
- .env.example files document security requirements
- Both web and mobile compile without errors
</success_criteria>

<output>
After completion, create `.planning/phases/13-credential-cleanup/13-01-SUMMARY.md`:

# Phase 13 Plan 01: Credential Cleanup Summary

**[Substantive one-liner - what shipped]**

## Performance

- **Duration:** X min
- **Tasks:** 2
- **Files modified:** N

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]

## Task Commits

1. **Task 1: Remove hardcoded test credentials** - `hash` (fix)
2. **Task 2: Verify environment security** - `hash` (docs)

## Files Created/Modified

- `file.ts` - Description

## Decisions Made

[Key decisions and rationale, or "None"]

## Deviations from Plan

[Problems and resolutions, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Ready for Phase 14: Mobile Auth Hardening
</output>
